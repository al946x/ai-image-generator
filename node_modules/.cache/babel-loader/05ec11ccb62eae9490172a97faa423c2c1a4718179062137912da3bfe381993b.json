{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/fozal/OneDrive/Documents/ai-image-generator/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/fozal/OneDrive/Documents/ai-image-generator/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/fozal/OneDrive/Documents/ai-image-generator/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import'./ImageGenerator.css';import ai_image from'../assets/ai_image.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ImageGenerator=function ImageGenerator(){var _ref;var _useState=useState(\"/\"),_useState2=_slicedToArray(_useState,2),image_url=_useState2[0],setImage_url=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var inputRef=useRef(null);var ImageGenerator=function ImageGenerator(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,dataArray;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(inputRef.current.value===\"\")){_context.next=2;break;}return _context.abrupt(\"return\",0);case 2:setLoading(true);_context.next=5;return fetch(\"https://api.openai.com/v1/images/generations\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(process.env.REACT_APP_OPENAI_API_KEY||''),\"User-Agent\":\"Chrome\"},body:JSON.stringify({prompt:\"\".concat(inputRef.current.value),n:1,size:\"512x512\"})});case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;console.log(data);dataArray=data.data;setImage_url(dataArray[0].url);setLoading(false);case 13:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};return/*#__PURE__*/_jsxs(\"div\",{className:\"ai-image-generator\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[\"AI Image \",/*#__PURE__*/_jsx(\"span\",{children:\"Generator\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"img-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:image_url===\"/\"?ai_image:image_url,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:loading?\"loading-bar-full\":\"loading-bar\"})}),/*#__PURE__*/_jsx(\"div\",{className:loading?\"loading-text\":\"display-none\",children:\"Loading...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:inputRef,className:\"search-input\",placeholder:\"Describe the image you want to create\"}),/*#__PURE__*/_jsx(\"div\",{className:\"generate-btn\",onClick:function onClick(){ImageGenerator();},children:\"Generate\"})]})]});};export default ImageGenerator;","map":{"version":3,"names":["React","useRef","useState","ai_image","jsx","_jsx","jsxs","_jsxs","ImageGenerator","_ref","_useState","_useState2","_slicedToArray","image_url","setImage_url","_useState3","_useState4","loading","setLoading","inputRef","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","dataArray","wrap","_callee$","_context","prev","next","current","value","abrupt","fetch","method","headers","Authorization","concat","process","env","REACT_APP_OPENAI_API_KEY","body","JSON","stringify","prompt","n","size","sent","json","console","log","url","stop","apply","arguments","className","children","src","alt","type","ref","placeholder","onClick"],"sources":["C:/Users/fozal/OneDrive/Documents/ai-image-generator/src/Components/ImageGenerator/ImageGenerator.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport './ImageGenerator.css'\r\nimport ai_image from '../assets/ai_image.jpg'\r\n\r\nexport const ImageGenerator = () => {\r\n\r\n  const [image_url, setImage_url] = useState(\"/\");\r\n  const [loading, setLoading] = useState(false);\r\n  var inputRef = useRef(null);\r\n\r\n  const ImageGenerator = async () => {\r\n    if (inputRef.current.value===\"\") \r\n    {\r\n      return 0;\r\n    } \r\n\r\n   \r\n    setLoading(true);\r\n    const response = await fetch(\r\n      \"https://api.openai.com/v1/images/generations\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\":\"application/json\",\r\n          Authorization:\r\n          `Bearer ${process.env.REACT_APP_OPENAI_API_KEY || ''}`,\r\n            \"User-Agent\": \"Chrome\",\r\n        },\r\n\r\n        body:JSON.stringify({\r\n          prompt:`${inputRef.current.value}`,\r\n          n: 1,\r\n          size: \"512x512\",\r\n        }),\r\n      }\r\n    );\r\n\r\n  var data = await response.json();\r\n   console.log(data);\r\n   var dataArray = data.data;\r\n   setImage_url(dataArray[0].url);\r\n   setLoading(false);\r\n\r\n  }\r\n\r\n  return (\r\n    <div className='ai-image-generator'>\r\n      <div className=\"header\">AI Image <span>Generator</span></div>\r\n      <div className='img-loading'>\r\n        <div className='image'><img src={image_url === \"/\" ? ai_image : image_url} alt=\"\" /></div>\r\n        <div className=\"loading\">\r\n          <div className={loading ? \"loading-bar-full\" : \"loading-bar\"}></div></div>\r\n        <div className={loading ? \"loading-text\" : \"display-none\"}>Loading...</div>\r\n      </div>\r\n      <div className='search-box'>\r\n        <input type=\"text\" ref={inputRef} className='search-input' placeholder='Describe the image you want to create' />\r\n        <div className='generate-btn' onClick={() => { ImageGenerator() }}>Generate</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageGenerator\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}